{"version":3,"file":"../../editor/build/index.js","mappings":"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","sources":["webpack://andreasjr-tools/./editor/src/project-gallery.js","webpack://andreasjr-tools/external window \"React\"","webpack://andreasjr-tools/external window [\"wp\",\"blockEditor\"]","webpack://andreasjr-tools/external window [\"wp\",\"components\"]","webpack://andreasjr-tools/external window [\"wp\",\"coreData\"]","webpack://andreasjr-tools/external window [\"wp\",\"data\"]","webpack://andreasjr-tools/external window [\"wp\",\"editPost\"]","webpack://andreasjr-tools/external window [\"wp\",\"element\"]","webpack://andreasjr-tools/external window [\"wp\",\"i18n\"]","webpack://andreasjr-tools/external window [\"wp\",\"plugins\"]","webpack://andreasjr-tools/webpack/bootstrap","webpack://andreasjr-tools/webpack/runtime/compat get default export","webpack://andreasjr-tools/webpack/runtime/define property getters","webpack://andreasjr-tools/webpack/runtime/hasOwnProperty shorthand","webpack://andreasjr-tools/webpack/runtime/make namespace object","webpack://andreasjr-tools/./editor/src/index.js"],"sourcesContent":["import { __, sprintf } from '@wordpress/i18n';\nimport {\n\tregisterPlugin\n} from \"@wordpress/plugins\";\n\nimport {\n\tPluginDocumentSettingPanel\n} from \"@wordpress/edit-post\";\n\nimport {\n\tButton,\n\tTextControl,\n\tTextareaControl,\n\tBaseControl,\n\tPanelRow,\n\tButtonGroup,\n\tDropZone,\n\tSpinner,\n\tResponsiveWrapper,\n\twithNotices,\n\twithFilters,\n\t__experimentalHStack as HStack,\n} from \"@wordpress/components\";\n\nimport {\n\tselect,\n\twithSelect,\n\twithDispatch,\n\tuseSelect,\n\tuseDispatch\n} from \"@wordpress/data\";\n\nimport {\n\tuseRef,\n\tuseState\n} from \"@wordpress/element\"\n\nimport {\n\tMediaUpload,\n\tMediaUploadCheck,\n\tstore as blockEditorStore,\n} from \"@wordpress/block-editor\";\n\n\n// Get core store options\nimport { store as coreStore } from '@wordpress/core-data';\n// const { canUser, getEntityRecord, getEditedEntityRecord } = select( coreStore );\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\nconst DEFAULT_FEATURE_IMAGE_LABEL = __( 'Featured image' );\nconst DEFAULT_SET_FEATURE_IMAGE_LABEL = __( 'Set featured image' );\nconst instructions = (\n\t<p>\n\t\t{ __(\n\t\t\t'To edit the featured image, you need permission to upload media.'\n\t\t) }\n\t</p>\n);\n\nexport default function App() {\n\tconst postType = useSelect((select) => select('core/editor').getCurrentPostType());\n\tconsole.log('post type', postType)\n\tif (postType !== 'project-gallery') return;\n\n\tconst {\n\t\teditPost\n\t} = useDispatch( 'core/editor' );\n\n\n\tconst metaValues = useSelect(\n\t\t(select) => select('core/editor').getEditedPostAttribute('meta')\n\t);\n\n\tconst {\n\t\tresource_url,\n\t\tresource_image,\n\t\tresource_description\n\t} = metaValues;\n\n\tfunction setMeta(newValue) {\n\t\teditPost({\n\t\t\tmeta: {\n\t\t\t\t...metaValues,\n\t\t\t\t...newValue\n\t\t\t}\n\t\t});\n\t}\n\n\treturn(<PluginDocumentSettingPanel name=\"project-details\" title=\"Details\">\n\t\t<BaseControl label={__('Resource Image')}>\n\t\t\t<MediaUploadCheck><MediaUpload\n\t\t\t\tonSelect={ ( media ) =>\n\t\t\t\t\tsetMeta({\n\t\t\t\t\t\tresource_image: {\n\t\t\t\t\t\t\tid: media.id,\n\t\t\t\t\t\t\turl: media.url\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\tvalue={ resource_image?.id }\n\t\t\t\trender={ ( { open } ) => (<>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ resource_image?.url ? resource_image.url : 'https://placehold.co/600x300?text=Choose+An+Image' }\n\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t/>\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Button onClick={ open }>{resource_image?.url ? \"Replace media\" : \"Open Media Library\"}</Button>\n\t\t\t\t\t\t{resource_image?.url && <Button isDestructive onClick={ () => setMeta({\n\t\t\t\t\t\t\t'resource_image': undefined\n\t\t\t\t\t\t}) }>Remove</Button>}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</>) }\n\t\t\t/></MediaUploadCheck>\n\t\t</BaseControl>\n\t\t<TextareaControl\n\t\t\tlabel \t\t= {__(\"Resource Description\")}\n\t\t\tonChange \t= {(e) => setMeta({resource_description: e})}\n\t\t\tvalue\t\t= {resource_description}\n\t\t/>\n\t\t<TextControl\n\t\t\tonChange \t= {(e) => setMeta({resource_url: e})}\n\t\t\tvalue\t\t= {resource_url}\n\t\t\tlabel \t\t= {__(\"Resource URL\")}\n\t\t/>\n\t</PluginDocumentSettingPanel>);\n}","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n\tregisterPlugin\n} from \"@wordpress/plugins\";\n\nimport ProjectGallery from './project-gallery';\n\nregisterPlugin( 'andreasjr-tools-details', {\n\trender: ProjectGallery,\n\ticon: false\n} );"],"names":["__","sprintf","registerPlugin","PluginDocumentSettingPanel","Button","TextControl","TextareaControl","BaseControl","PanelRow","ButtonGroup","DropZone","Spinner","ResponsiveWrapper","withNotices","withFilters","__experimentalHStack","HStack","select","withSelect","withDispatch","useSelect","useDispatch","useRef","useState","MediaUpload","MediaUploadCheck","store","blockEditorStore","coreStore","ALLOWED_MEDIA_TYPES","DEFAULT_FEATURE_IMAGE_LABEL","DEFAULT_SET_FEATURE_IMAGE_LABEL","instructions","createElement","App","postType","getCurrentPostType","console","log","editPost","metaValues","getEditedPostAttribute","resource_url","resource_image","resource_description","setMeta","newValue","meta","name","title","label","onSelect","media","id","url","allowedTypes","value","render","open","Fragment","src","onClick","isDestructive","undefined","onChange","e","ProjectGallery","icon"],"sourceRoot":""}